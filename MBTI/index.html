<!DOCTYPE html>
<html lang="ko-KR">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title></title>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous" />
        <link rel="stylesheet" href="style.css" />
    </head>
    <body class="container">
        <article class="start">
            <h1 class="text-center mt-5">나랑 찰떡인 떡 종류는?</h1>
            <button type="button" class="btn btn-outline-success mt-5" onclick="start()">테스트 시작</button>
        </article>

        <article class="question">
            <div class="progress mt-5">
                <div class="progress-bar bg-success" role="progressbar" style="width: calc(100 / 12 * 1%)"></div>
            </div>

            <h2 id="title" class="mt-5 text-center">질문</h2>
            <input id="type" type="hidden" value="EI" />
            <button id="A" type="button" class="btn btn-success mt-5">Success</button>

            <button id="B" type="button" class="btn btn-success mt-5">Success</button>
        </article>

        <article class="result">
            <img id="img" class="rounded-pill mt-5" src="./img/cape-town.jpg" alt="cape town" />
            <h2 id="place" class="text-center mt-5">결과</h2>
            <h3 id="explain" class="text-center mt-5">내용</h3>
        </article>
        <input type="hidden" id="EI" value="0" />
        <input type="hidden" id="SN" value="0" />
        <input type="hidden" id="TF" value="0" />
        <input type="hidden" id="JP" value="0" />

        <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
        <script>
            let currentNum = 1;
            const questions = {
                1: {
                    title: '나에게 여행이란',
                    type: 'EI',
                    A: '친구나 일행과 함께 추억을 쌓는 것이다.',
                    B: '진정한 여행은 홀로 가는 것이다.',
                },
                2: {
                    title: '여행 후 사진 갤러리에는',
                    type: 'EI',
                    A: '인물 사진이 더 많다.',
                    B: '풍경 사진이 더 많다.',
                },
                3: {
                    title: '여행 마지막 날 비가 하루종일 온다.',
                    type: 'EI',
                    A: '여기까지 왔는데 숙소와 가까운 곳이라도 나가본다.',
                    B: '숙소가 너무 좋다. 안 나간다.',
                },

                4: {
                    title: '여행지에서 대중교통을 탄다면',
                    type: 'SN',
                    A: '구글맵에 나온 노선 그대로 탄다.',
                    B: '방향만 같다면 크게 상관없다.',
                },
                5: {
                    title: '사그라다 파밀리아를 본 당신',
                    type: 'SN',
                    A: '가우디 폼 미쳤다...',
                    B: '완공일이 언제일까?',
                },
                6: {
                    title: '인터넷의 마감 시간을 확인 후 간 식당. 영업이 끝났다.',
                    type: 'SN',
                    A: '하... 업데이트 좀 해라.',
                    B: '뭐지... 썸머타임인가?',
                },

                7: {
                    title: '친구의 실수로 마지막 기차를 놓쳤다.',
                    type: 'TF',
                    A: '다른 이동 방법부터 찾는다. ',
                    B: '5분간 욕부터 한다.',
                },
                8: {
                    title: '현지에선 현지식이 모토인 당신. 동행이 한식당을 고집한다면',
                    type: 'TF',
                    A: '다른 옵션을 제안한다.',
                    B: '한 번 쯤은 따라간다.',
                },
                9: {
                    title: '예약한 투어 당일, 친구가 아프다.',
                    type: 'TF',
                    A: '환불 규정부터 찾아본다.',
                    B: '친구가 걱정된다.',
                },

                10: {
                    title: '2박3일 도쿄 여행을 간다면',
                    type: 'JP',
                    A: '촉박하다. 계획을 효율적으로 정리한다.',
                    B: '하루에 가보고 싶은곳 1~2곳. 나머지는 유동적으로 다닌다.',
                },
                11: {
                    title: '베트남의 유명 쌀국수집을 찾아 왔다. 가게 안은 온통 한국인 뿐이다.',
                    type: 'JP',
                    A: '필수 코스다. 그냥 먹는다.',
                    B: '쌀국수 맛 비슷하다. 현지인도 있는 다른 식당으로 간다.',
                },
                12: {
                    title: '내일 2주간 미국 서부 여행을 간다. 캐리어는 아직 비어있다. ',
                    type: 'JP',
                    A: '설마 내가? 그럴 일은 없다.',
                    B: '지금 준비해도 큰 문제 없다.',
                },
            };

            const results = {
                ESTP: {
                    place: '0다낭',
                    place: '',
                    title: '',
                    explain: '',
                    img: '',
                },
                ESTJ: {
                    place: '0도쿄',
                    title: '',
                    explain: '',
                    img: '',
                },
                ESFP: {
                    place: '0세비야',
                    title: '',
                    explain: '',
                    img: '',
                },
                ESFJ: {
                    place: '벤쿠버, Banff',
                    title: '',
                    explain: '',
                    img: '',
                },
                ENFP: {
                    title: '0LOS ANGELES',
                    explain: '',
                    img: '',
                },
                ENFJ: {
                    place: '몽골',
                    title: '',
                    explain: '',
                    img: '',
                },
                ENTP: {
                    place: '멕시코시티',
                    title: '',
                    explain: '',
                    img: '',
                },
                ENTJ: {
                    place: '0울루루',
                    title: '위치는 간단하다. 하지만 도착이 쉽지만은 않다.',
                    explain: '',
                    img: '',
                },
                ISTP: {
                    place: '모험 변태 - 케이프타운',
                    title: '',
                    explain: '',
                    img: '',
                },
                ISTJ: {
                    place: '로테르담, 암스테르담',
                    title: '',
                    explain: '',
                    img: '',
                },
                ISFP: {
                    place: '0모로코',
                    title: '사하라 사막부터 지브롤터 해협까지',
                    explain:
                        '사하라 부터 마라케시, 까사블랑카, 패스, 쉐프샤우엔, 아프리카가 끝나는 세우타까지 모든 도시가 같은 모로코가 맞나 싶을정도로 색다르다. 당신이 모로코에서 찍은 모든 사진과 영상은 인생 뮤직비디오가 될 것이다. 어딜 찍어도 감탄사가 나올 것이며 북아프리카의 매력을 모두 느끼길 바란다.',
                    img: '',
                },
                ISFJ: {
                    place: '0헬싱키',
                    title: '',
                    explain: '',
                    img: '',
                },
                INFP: {
                    place: '쿠바',
                    title: '',
                    explain:
                        '이 사이트를 개발한 시간보다 INFP 성향의 당신이 만족할 여행지를 찾는데 더 많은 시간을 썼다. 쿠바? 의아해 할 수 있다. 하지만 자신있게 추천한다. 말레꼰의 선셋은 당신의 마음을 녹일것이고, 인생 최고의 모히또와 시가, 그리고 헤밍웨이의 노인과 바다가 눈 앞에 있다. 또한 도시 곳곳에 있는 체 게바라는 당신의 마음을 뜨겁게 만들 것이다.',
                    img: '',
                },
                INFJ: {
                    place: '0부다페스트',
                    title: '감각적이고 차분하며 따뜻한 도시',
                    explain: '고즉넉한 분위기',
                    img: '',
                },
                INTP: {
                    place: '리스본과 포르토',
                    mbti: 'INTP',
                    title: '대항해시대와 사색',
                    explain:
                        '무엇인가 골돌히 사색할 수 있게 해줄 여행지로 리스본과 포르토를 추천한다. 리스본의 발견기념비 앞에서 여정을 시작해보자. 항해왕자 엔리크와 바스쿠 다가마가 필두로 있는 거대한 배 형상의 기념비 앞에 선다면 인생이란 대항해의 출발점에 서있는 기분이 든다. 두 도시 모두 크지않아 도보로 이동가능하며 언덕들이 많아 도시를 조망하기 정말 좋다. 이 언덕에서 2시간, 저 카페에서 2시간, 저 다리앞에서 2시간 에그타르트와 포트와인을 곁들이며...',
                    img: '',
                },
                INTJ: {
                    place: '베를린',
                    mbti: 'INTJ',
                    title: '유럽 최고 힙스터, 베를린',
                    explain:
                        '봐야할 곳, 가봐야 할 곳이 많은 당신에게 베를린을 추천한다. 파리나 런던은 후순위다. 베를린은 정말 힙하다. 카이저 빌헴름 교회 신관은 정말 초현실적이다. 유럽 교회의 뉴진스...? 또한 현대사에 큰 상징들이 많은 도시이다. 베를린 장벽, 체크포인트 찰리, 유대인 기념공원, 브란덴부르크 문, 페르가몬 박물관 등 정말 볼거리가 많다. 그리고 보난자커피와 커리부어스트, 맥주... 나열하기 힘들만큼 힙한 도시이다.',
                    img: '',
                },
            };
            function start() {
                $('.start').hide();
                $('.question').show();
                next();
            }
            $('#A').click(function () {
                var type = $('#type').val();
                var preValue = $('#' + type).val();
                $('#' + type).val(parseInt(preValue) + 1);
                next();
            });
            $('#B').click(function () {
                next();
            });

            function next() {
                if (currentNum == 13) {
                    $('.question').hide();
                    $('.result').show();

                    var mbti = '';
                    $('#EI').val() >= 2 ? (mbti += 'E') : (mbti += 'I');
                    $('#SN').val() >= 2 ? (mbti += 'S') : (mbti += 'N');
                    $('#TF').val() >= 2 ? (mbti += 'T') : (mbti += 'F');
                    $('#JP').val() >= 2 ? (mbti += 'J') : (mbti += 'P');
                    alert(mbti);

                    $('#place').text(results[mbti]['place']);
                    $('#explain').text(results[mbti]['explain']);
                    $('#img').attr('src', `./img/${results[mbti]['img']}`);
                } else {
                    $('.progress-bar').css({ width: `calc(100/12*${currentNum}%)` });
                    $('#title').html(questions[currentNum]['title']);
                    $('#type').val(questions[currentNum]['type']);
                    $('#A').html(questions[currentNum]['A']);
                    $('#B').html(questions[currentNum]['B']);
                    currentNum++;
                }
            }
        </script>
    </body>
</html>
