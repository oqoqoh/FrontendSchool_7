<!DOCTYPE html>
<html lang="ko-KR">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title></title>
    </head>
    <body>
        <form action="">
            <button type="submit" class="submit">제출</button>
        </form>

        <h1>나의 todo list</h1>

        <p>1. 오늘 저녁에는 부대찌게를 끓여 먹겠다.<button type="button">삭제</button></p>
        <p>2. 후식으로 슈팅스타를 먹겠다.<button type="button">삭제</button></p>
        <p>3. 자기 전에 반드시 내일 아침 메뉴를 생각해두겠다.<button type="button">삭제</button></p>

        <script>
            const submit = document.querySelector('.submit');
            submit.addEventListener('click', (event) => {
                console.log('clicked');
                event.preventDefault();
                event.stopPropagation();
            });

            document.body.addEventListener('click', () => {
                console.log('event still alive!');
            });

            const p = document.querySelectorAll('p');

            p.forEach((val) => {
                val.addEventListener('click', (e) => {
                    if (e.target.nodeName === 'BUTTON') {
                        if (confirm('삭제를 원하십니까?')) {
                            e.currentTarget.remove();
                            return;
                        }
                    }
                    let content = [...e.target.textContent];
                    alert(content.slice(0, content.length - 2).join(''));
                });
            });
        </script>
    </body>
</html>
